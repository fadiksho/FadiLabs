@code {
	[Parameter]
	public int Code { get; set; }

	[Parameter]
	public string? Path { get; set; }

	[Inject] public required NavigationManager Navigation { get; set; }

	protected override void OnInitialized()
	{
		var targetUrl = RendererInfo.IsInteractive ? $"/labs/{Code}" : $"/{Code}";

		if (string.IsNullOrEmpty(Path))
		{
			Path = Navigation.ToBaseRelativePath(Navigation.Uri);
		}

		targetUrl = $"{targetUrl}?path={Uri.EscapeDataString(Path)}";

		Navigation.NavigateTo(targetUrl, false, true);
	}
}
